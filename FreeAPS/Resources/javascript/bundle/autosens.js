var freeaps_autosens;(()=>{"use strict";var t={888:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.tz=void 0;e.tz=t=>new Date(new Date(t).toISOString());e.format=t=>{const e=new Date(t),n=Math.abs(t.getTimezoneOffset()),r=Math.ceil(n/60),i=n-60*r,o=t.getTimezoneOffset()<0?"+":"-";return e.setMinutes(t.getMinutes()-t.getTimezoneOffset()),e.toISOString().substring(0,19)+o+r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")},e=e.default={tz:e.tz,format:e.format}},48:(t,e,n)=>{var r=n(831),i=n(291),o=n(631),u=n(642),a=n(808),c=n(923),s=n(888).tz;function f(t,e){try{t.sort((function(t,e){return new Date(t.created_at)<new Date(e.created_at)}))}catch(t){}for(var n=0;n<t.length;n++){var r=new Date(t[n].created_at),i=new Date(r.getTime()+60*t[n].duration*1e3);if(e>=new Date(t[n].created_at)&&0===t[n].duration)return 0;if(e>=new Date(t[n].created_at)&&e<i)return(t[n].targetTop+t[n].targetBottom)/2}}t.exports=function(t){var e=t.glucose_data.map((function(t){return t.glucose=t.glucose||t.sgv,t})),n=t.iob_inputs,l=t.basalprofile,p=t.iob_inputs.profile;if(t.retrospective)var d=new Date(new Date(e[0].date).getTime()-864e5);else d=new Date((new Date).getTime()-864e5);if(!0===t.iob_inputs.profile.rewind_resets_autosens)for(var v=t.iob_inputs.history,m=1;m<v.length;++m)if(v[m]._type&&"Rewind"===v[m]._type&&v[m].timestamp){d=new Date(v[m].timestamp),console.error("Setting lastSiteChange to",d,"using timestamp",v[m].timestamp);break}var h=o(t.iob_inputs),g={history:t.iob_inputs.history,profile:p,carbs:t.carbs,glucose:t.glucose_data},y=a(g);y.sort((function(t,e){var n=new Date(s(t.timestamp));return new Date(s(e.timestamp)).getTime()-n.getTime()}));var b=[],_=[],w=[],T=[];e.reverse(),T[0]=e[0];for(var S=0,x=1;x<e.length;++x){var O,M;if(e[x].display_time)O=new Date(e[x].display_time.replace("T"," "));else if(e[x].dateString)O=new Date(e[x].dateString);else{if(e[x].xDrip_started_at)continue;console.error("Could not determine BG time")}if(e[x-1].display_time)M=new Date(e[x-1].display_time.replace("T"," "));else if(e[x-1].dateString)M=new Date(e[x-1].dateString);else if(T[0].display_time)M=new Date(T[0].display_time.replace("T"," "));else{if(e[x-1].xDrip_started_at)continue;console.error("Could not determine last BG time")}if(!(e[x].glucose<39||e[x-1].glucose<39)){if(d)if((O-d)/36e5<0)continue;var I=(O-M)/6e4;Math.abs(I)>2?(T[++S]=e[x],T[S].date=O.getTime()):T[S].glucose=(T[S].glucose+e[x].glucose)/2}}for(T.shift(),x=y.length-1;x>0;--x){var P=y[x];if(P){var D=new Date(s(P.timestamp)),R=D.getTime(),k=T[0];if(!k||!k.date)continue;var j=new Date(k.date),F=j.getTime();R<F&&y.splice(x,1)}}var B=0,E=0,C=0,A=0,N=999,z="",W=null;for(x=3;x<T.length;++x){var U,q,L,H;if(O=new Date(T[x].date),[U,W]=u.isfLookup(p.isfProfile,O,W),void 0!==T[x].glucose){q=T[x].glucose;var G=T[x-1].glucose,K=T[x-3].glucose;if(isNaN(q)||!q||q<40||isNaN(K)||!K||K<40||isNaN(G)||!G||G<40)process.stderr.write("!");else{H=q-G,L=(L=(q-K)/3).toFixed(2),n.clock=O,n.profile.current_basal=r.basalLookup(l,O),n.profile.temptargetSet=!1;var J,V=i(n,!0,h)[0],Y=Math.round(-V.activity*U*5*100)/100;if(Y=Y.toFixed(2),isNaN(H)?console.error("Bad delta: ",H,q,G,K):J=H-Y,q<80&&J>0&&(J=0),J=J.toFixed(2),k=T[x],F=(j=new Date(k.date)).getTime(),(P=y[y.length-1])&&(R=(D=new Date(s(P.timestamp))).getTime())<F){if(P.carbs>=1){C+=parseFloat(P.carbs),A+=parseFloat(P.carbs);var X=Math.round(C);process.stderr.write(X.toString()+"g")}y.pop()}if(C>0){var Z=Math.max(J,p.min_5m_carbimpact),$=Z*p.carb_ratio/U;$?C=Math.max(0,C-$):console.error($,Z,p.carb_ratio,U,J,p.min_5m_carbimpact)}if(C>0||B||A>0)B=J>0?1:0,N>60&&C<.5&&(X=Math.round(C),process.stderr.write(X.toString()+"g"),B=0),!B&&C<.5&&(A=0),"csf"!==z&&(process.stderr.write("("),N=0),N++,z="csf",k.mealCarbs=A;else{"csf"===z&&process.stderr.write(")");var Q=n.profile.current_basal;!t.retrospective&&V.iob>2*Q||E||N<9?(N++,E=J>0?1:0,"uam"!==z&&process.stderr.write("u("),z="uam"):("uam"===z&&process.stderr.write(")"),z="non-meal")}if("non-meal"===z?(J>0?process.stderr.write("+"):0===J?process.stderr.write("="):process.stderr.write("-"),b.push(L),_.push(Y),w.push(J),parseFloat(J)):process.stderr.write("x"),!0===p.high_temptarget_raises_sensitivity||!0===p.exercise_mode){var tt=f(t.temptargets,O);if(tt>100){var et=-(tt-100)/20;process.stderr.write("-"),w.push(et)}}var nt=O.getMinutes(),rt=O.getHours();nt>=0&&nt<5&&(process.stderr.write(rt.toString()+"h"),rt%2==0&&(w.push(0),process.stderr.write("=")));var it=t.deviations;it||(it=96),w.length>it&&w.shift()}}else console.error("Could not find glucose data")}if(process.stderr.write(" "),console.error(""),console.error("Using most recent",w.length,"deviations since",d),w.length<96){var ot=Math.round(18*(1-w.length/96));console.error("Adding",ot,"more zero deviations");for(var ut=0;ut<ot;ut++)w.push(0)}for(b.sort((function(t,e){return t-e})),_.sort((function(t,e){return t-e})),w.sort((function(t,e){return t-e})),x=.9;x>.1;x-=.01){if(c(w,x+.01)>=0&&c(w,x)<0){var at=Math.round(100*x);console.error(at+"% of non-meal deviations negative (>50% = sensitivity)")}if(c(w,x+.01)>0&&c(w,x)<=0){var ct=100-Math.round(100*x);console.error(ct+"% of non-meal deviations positive (>50% = resistance)")}}var st=c(w,.5),ft=c(w,.5),lt=(w.length,w.reduce((function(t,e){var n=parseFloat(e);return t+n*n}),0)),pt=Math.sqrt(lt/w.length);console.error("RMS deviation: "+pt.toFixed(2));var dt=0;st<0?(dt=12*st/p.sens,process.stderr.write("Insulin sensitivity detected: ")):ft>0?(dt=12*ft/p.sens,process.stderr.write("Insulin resistance detected: ")):console.error("Sensitivity normal.");var vt=1+dt/p.max_daily_basal,mt=vt;vt=Math.max(vt,p.autosens_min),(vt=Math.min(vt,p.autosens_max))!==mt&&console.error("Ratio limited from "+mt+" to "+vt),vt=Math.round(100*vt)/100;var ht=Math.round(p.sens/vt);return console.error("ISF adjusted from "+p.sens+" to "+ht),{ratio:vt,newisf:ht}}},601:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBolusTreatment=e.isBasalTreatment=void 0;e.isBasalTreatment=t=>Object.prototype.hasOwnProperty.call(t,"rate");e.isBolusTreatment=t=>Object.prototype.hasOwnProperty.call(t,"insulin")},459:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;const r=n(601);function i(t,e,n,i,o,u){if((0,r.isBolusTreatment)(t)){e=e||new Date;var a=new Date(t.date),c=Math.round((e.getTime()-a.getTime())/1e3/60);return"bilinear"===n?function(t,e,n){var r=75,i=180,o=3/n,u=o*e,a=0,c=0,s=2/(60*n),f=s/r,l=s/(i-r)*-1;if(u<r){a=t.insulin*(f*u);var p=u/5+1;c=t.insulin*(-.001852*p*p+.001852*p+1)}else if(u<i){var d=u-r;a=t.insulin*(s+l*d);var v=(u-r)/5;c=t.insulin*(.001323*v*v+-.054233*v+.55556)}return{activityContrib:a,iobContrib:c}}(t,c,i):function(t,e,n,r,i){"rapid-acting"===i.curve?!0===i.useCustomPeakTime&&void 0!==i.insulinPeakTime?i.insulinPeakTime>120?(console.error("Setting maximum Insulin Peak Time of 120m for",i.curve,"insulin"),r=120):i.insulinPeakTime<50?(console.error("Setting minimum Insulin Peak Time of 50m for",i.curve,"insulin"),r=50):r=i.insulinPeakTime:r=75:"ultra-rapid"===i.curve?!0===i.useCustomPeakTime&&void 0!==i.insulinPeakTime?i.insulinPeakTime>100?(console.error("Setting maximum Insulin Peak Time of 100m for",i.curve,"insulin"),r=100):i.insulinPeakTime<35?(console.error("Setting minimum Insulin Peak Time of 35m for",i.curve,"insulin"),r=35):r=i.insulinPeakTime:r=55:console.error("Curve of",i.curve,"is not supported.");var o=60*n,u=0,a=0;if(e<o){var c=r*(1-r/o)/(1-2*r/o),s=2*c/o,f=1/(1-s+(1+s)*Math.exp(-o/c));u=t.insulin*(f/Math.pow(c,2))*e*(1-e/o)*Math.exp(-e/c),a=t.insulin*(1-f*(1-s)*((Math.pow(e,2)/(c*o*(1-s))-e/c-1)*Math.exp(-e/c)+1))}return{activityContrib:u,iobContrib:a}}(t,c,i,o,u)}return{}}e=t.exports=i},631:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;const r=n(635),i=r.__importStar(n(831)),o=n(989),u=n(888),a=n(656),c=n(408),s=r.__importStar(n(24)),f=n(222),l=r.__importStar(n(888));s.intersection([s.type({history:s.array(s.union([c.NightscoutTreatment,a.PumpHistoryEvent])),profile:o.Profile}),s.partial({history24:s.array(s.union([c.NightscoutTreatment,a.PumpHistoryEvent])),autosens:f.Autosens,clock:s.string})]);function p(t,e){if("recurring"!==e.type)return[t];var n=60*t.started_at.getHours()+t.started_at.getMinutes(),r=n+t.duration;if(!(t.duration>30||n<e.minutes&&r>e.minutes||r>1440&&e.minutes<r-1440))return[t];var i=0;if(t.duration>30)i=30;else{var o=e.minutes;r>1440&&(o=1440),i=o-n}const u=new Date(t.started_at);return u.setMinutes(u.getMinutes()+i),[Object.assign(Object.assign({},t),{duration:i}),Object.assign(Object.assign({},t),{duration:t.duration-i,timestamp:l.format(u),started_at:u,date:u.getTime()})]}function d(t,e){for(var n=[t],r=!0;r;){let t=[];r=!1;for(let o=0;o<n.length;o++){const u=n[o];for(let n=0;n<e.length;n++){var i=p(u,e[n]);if(i.length>1){t=t.concat(i),r=!0;break}}r||(t=t.concat([u]))}n=t}return n}function v(t,e,n,r,i,o){var a=[],c=n?new Date(n):new Date(0),s=c.getTime(),f=(i?new Date(i):new Date).getTime();if(r&&t.date<s&&(t.date+60*t.duration*1e3<s?t.duration=0:(t.duration=(t.date+60*t.duration*1e3-s)/60/1e3,t.started_at=(0,u.tz)(c),t.date=s)),o&&t.date+60*t.duration*1e3>f&&(t.date>f?t.duration=0:t.duration=(s-t.date)/60/1e3),a.push(t),0===t.duration)return a;for(var p=0;p<e.length;p++)for(var d=e[p],v=0;v<a.length;v++)if(a[v].date<=d.date&&a[v].date+60*a[v].duration*1e3>d.date){if(a[v].date+60*a[v].duration*1e3>d.date+60*d.duration*1e3){var m=new Date(d.started_at);m.setMinutes(m.getMinutes()+d.duration),a.push(Object.assign(Object.assign({},a[v]),{timestamp:l.format(m),started_at:(0,u.tz)(m),date:d.date+60*d.duration*1e3,duration:(a[v].date+60*a[v].duration*1e3-(d.date+60*d.duration*1e3))/60/1e3}))}a[v].duration=(d.date-a[v].date)/60/1e3}else if(d.date<=a[v].date&&d.date+60*d.duration*1e3>a[v].date){a[v].duration=(a[v].date+60*a[v].duration*1e3-(d.date+60*d.duration*1e3))/60/1e3;const t=new Date(d.started_at);t.setMinutes(t.getMinutes()+d.duration),a[v].timestamp=l.format(t),a[v].started_at=(0,u.tz)(new Date(a[v].timestamp)),a[v].date=d.date+60*d.duration*1e3}return a}function m(t,e){let n=[...t.history,...t.history24||[]];var r,o=t.profile,s=t.autosens,f=[],l=[],p=[],m=[],h=!1;let g;for(var y=!1,b=(0,u.tz)(t.clock?new Date(t.clock):new Date),_=b,w=0;w<n.length;w++){const t=n[w];if(!a.PumpHistoryEvent.is(t)||"PumpSuspend"!==t._type&&"PumpResume"!==t._type)continue;const e=(0,u.tz)(new Date(t.timestamp)),r={timestamp:t.timestamp,started_at:e,date:e.getTime(),duration:0};"PumpSuspend"===t._type?p.push(r):"PumpResume"===t._type&&m.push(r)}p=p.sort(((t,e)=>t.date-e.date)),(m=m.sort(((t,e)=>t.date-e.date))).length>0&&(r=m[0].timestamp,(0===p.length||m[0].date<p[0].date)&&(h=!0));var T=0;for(w=0;w<p.length;w++){for(;T<m.length&&!(m[T].date>p[w].date);T++);if(T>=m.length&&!y){y=!0,g=p[w].timestamp;break}p[w].duration=(m[T].date-p[w].date)/60/1e3}for(h||y||m.length===p.length?h&&!y&&m.length-1!==p.length?console.error("Mismatched number of resumes("+m.length+") and suspends("+p.length+") assuming suspended prior to history block!"):!h&&y&&m.length!==p.length-1?console.error("Mismatched number of resumes("+m.length+") and suspends("+p.length+") assuming suspended past end of history block!"):h&&y&&m.length!==p.length&&console.error("Mismatched number of resumes("+m.length+") and suspends("+p.length+") assuming suspended prior to and past end of history block!"):console.error("Mismatched number of resumes("+m.length+") and suspends("+p.length+")!"),w<p.length-1&&p.splice(w+1,p.length-w-1),w=0;w<n.length;w++){let t=n[w];c.NightscoutTreatment.is(t)&&t.bolus&&"Bolus"===t.bolus._type&&(t=t.bolus);const r=c.NightscoutTreatment.is(t)?t.created_at:t.timestamp;var S=(0,u.tz)(new Date(r));if(S>_)continue;if(_=S,a.PumpHistoryEvent.is(t)&&"Bolus"===t._type){const e=(0,u.tz)(new Date(t.timestamp));e>b?process.stderr.write(" "+t.amount+"U @ "+e):l.push({timestamp:t.timestamp,started_at:e,date:e.getTime(),insulin:t.amount})}else if(!c.NightscoutTreatment.is(t)||"Meal Bolus"!==t.eventType&&"Correction Bolus"!==t.eventType&&"Snack Bolus"!==t.eventType&&"Bolus Wizard"!==t.eventType)if(c.NightscoutTreatment.is(t)&&"xdrip"===t.enteredBy){const e=(0,u.tz)(new Date(t.created_at));l.push({timestamp:t.created_at,started_at:e,date:e.getTime(),insulin:t.insulin})}else if(c.NightscoutTreatment.is(t)&&"HAPP_App"===t.enteredBy&&t.insulin){const e=(0,u.tz)(new Date(t.created_at));l.push({timestamp:t.created_at,started_at:e,date:e.getTime(),insulin:t.insulin})}else if(!c.NightscoutTreatment.is(t)||"Temp Basal"!==t.eventType||"HAPP_App"!==t.enteredBy&&"openaps://AndroidAPS"!==t.enteredBy){if(c.NightscoutTreatment.is(t)&&"Temp Basal"===t.eventType){const e=(0,u.tz)(new Date(t.created_at));let n=t.rate;void 0!==t.amount&&(n=t.amount/t.duration*60),f.push({timestamp:t.created_at,started_at:e,date:e.getTime(),rate:n,duration:t.duration})}else if(a.PumpHistoryEvent.is(t)&&"TempBasal"===t._type){if("percent"===t.temp)continue;var x=t.rate;let e;const i=w>0?n[w-1]:void 0;if(a.PumpHistoryEvent.is(i)&&i.timestamp===r&&"TempBasalDuration"===i._type)e=i["duration (min)"];else{for(var O=0;O<n.length;O++){const t=n[O];if(a.PumpHistoryEvent.is(t)&&t.timestamp===r&&"TempBasalDuration"===t._type){e=t["duration (min)"];break}}void 0===e&&console.error("No duration found for "+x+" U/hr basal "+r,n[w-1],t,n[w+1])}const o=(0,u.tz)(new Date(t.timestamp));f.push({timestamp:t.timestamp,started_at:o,date:o.getTime(),rate:x,duration:e})}}else{const e=(0,u.tz)(new Date(t.created_at));f.push({timestamp:t.created_at,started_at:e,date:e.getTime(),rate:t.absolute,duration:t.duration})}else{const e=(0,u.tz)(new Date(t.created_at));l.push({timestamp:t.created_at,started_at:e,date:e.getTime(),insulin:t.insulin})}const i=new Date(b.getTime()+6e4);f.push({timestamp:i.toISOString(),started_at:i,date:i.getTime(),rate:0,duration:e||0})}for(f=f.sort(((t,e)=>t.date-e.date)),w=0;w<f.length-1;w++){const t=f[w],e=f[w+1];t.date+60*(t.duration||0)*1e3>e.date&&(f[w].duration=(e.date-t.date)/60/1e3,null!==e.duration&&void 0!==e.duration||f.splice(w+1,1))}const M=(o.basalprofile||[]).map((t=>({type:"recurring",minutes:t.minutes}))),I=f.reduce(((t,e)=>[...t,...d(e,M)]),[]);f=f.sort(((t,e)=>t.date-e.date));let P=I;if(o.suspend_zeros_iob||!1){P=I.reduce(((t,e)=>[...t,...v(e,p,r,h,g,y)]),[]);let t=p.reduce(((t,e)=>[...t,Object.assign(Object.assign({},e),{rate:0})]),[]);var D=b.getTime()-288e5,R=(r?new Date(r):new Date).getTime();if(h&&D<R){var k=(F=new Date(D)).getTime(),j=(0,u.tz)(F);t.push({rate:0,duration:(R-D)/60/1e3,date:k,started_at:j,timestamp:F.toISOString()})}if(y){var F;k=(F=g?new Date(g):new Date).getTime(),j=(0,u.tz)(F);t.push({rate:0,duration:(b.getTime()-k)/60/1e3,date:k,started_at:j,timestamp:g})}P=t.reduce(((t,e)=>[...t,...d(e,M)]),P)}for(P=P.sort(((t,e)=>t.date-e.date)),w=0;w<P.length;w++){var B=P[w];if(B.duration>0){var E,C,A=o.current_basal;o.basalprofile&&o.basalprofile.length>0&&(A=i.basalLookup(o.basalprofile,new Date(B.timestamp))),void 0!==o.min_bg&&void 0!==o.max_bg&&(E=(o.min_bg+o.max_bg)/2);var N=o;if(N.half_basal_exercise_target)var z=N.half_basal_exercise_target;else z=160;if(N.exercise_mode&&N.temptargetSet&&E&&E>=105){var W=z-100;C=W/(W+E-100)}else void 0!==s&&(C=s.ratio);A=A||0,C&&(A*=C);var U=B.rate-A;const t=U<0?-.05:.05;var q=Math.round(U*B.duration*10/6)/100,L=Math.round(q/t),H=B.duration/L;for(T=0;T<L;T++){const e=B.date+T*H*60*1e3;l.push({insulin:t,date:e,started_at:new Date(e),timestamp:new Date(e).toISOString()})}}}return[...l,...f].sort(((t,e)=>t.date-e.date))}e=t.exports=m},291:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;const r=n(635),i=r.__importDefault(n(631)),o=r.__importDefault(n(685)),u=n(888),a=n(601);function c(t,e=!1,n){let r=[];n||(n=(0,i.default)(t),r=(0,i.default)(t,240));var c={treatments:n,profile:t.profile,autosens:t.autosens},s={treatments:r,profile:t.profile};if(!t.clock)return console.error("Clock is not defined"),[];var f=[];/(Z|[+-][0-2][0-9]:?[034][05])+/.test(t.clock)||console.error("Warning: clock input "+t.clock+" is unzoned; please pass clock-zoned.json instead");var l,p=(0,u.tz)(new Date(t.clock)),d=new Date(0).getTime(),v={date:new Date(0).getTime(),duration:0};n.forEach((function(t){(0,a.isBolusTreatment)(t)&&t.insulin>0?t.started_at.getTime()>d&&(d=t.started_at.getTime()):(0,a.isBasalTreatment)(t)&&t.duration>0&&t.date>v.date&&((v=t).duration=Math.round(100*v.duration)/100)})),l=e?1:240;for(var m=0;m<l;m+=5){var h=new Date(p.getTime()+6e4*m),g=(0,o.default)(c,h),y=(0,o.default)(s,h);g&&y&&(f.push(g),f[f.length-1].iobWithZeroTemp=y)}return f[0].lastBolusTime=d,f[0].lastTemp=v,f}e=t.exports=c},685:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;const r=n(635),i=n(989),o=n(601),u=r.__importDefault(n(459));function a(t,e){var n,r=e.getTime(),a=u.default,c=t.treatments,s=t.profile,f=s.dia||3,l=0,p=0,d=0,v=0,m=0,h=0;if(!c)return null;f<3&&(f=3);let g=s.curve||"bilinear";i.InsulineCurve.is(g)||(console.error('Unsupported curve function: "'+g+'". Supported curves: "bilinear", "rapid-acting" (Novolog, Novorapid, Humalog, Apidra) and "ultra-rapid" (Fiasp). Defaulting to "rapid-acting".'),g="rapid-acting");var y={bilinear:{requireLongDia:!1,peak:75},"rapid-acting":{requireLongDia:!0,peak:75,tdMin:300},"ultra-rapid":{requireLongDia:!0,peak:55,tdMin:300}}[g];return y.requireLongDia&&f<5&&(f=5),n=y.peak,c.forEach((function(t){if(t.date<=r){var i=r-60*f*60*1e3;if(t.date>i){var u=a(t,e,g,f,n,s);u&&u.iobContrib&&(l+=u.iobContrib),u&&u.activityContrib&&(h+=u.activityContrib),(0,o.isBolusTreatment)(t)&&t.insulin&&u&&u.iobContrib&&(t.insulin<.1?(p+=u.iobContrib,v+=t.insulin):(d+=u.iobContrib,m+=t.insulin))}}})),{iob:Math.round(1e3*l)/1e3,activity:Math.round(1e4*h)/1e4,basaliob:Math.round(1e3*p)/1e3,bolusiob:Math.round(1e3*d)/1e3,netbasalinsulin:Math.round(1e3*v)/1e3,bolusinsulin:Math.round(1e3*m)/1e3,time:e}}e=t.exports=a},808:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;const r=n(408),i=n(656),o=n(822),u=n(493),a=(t,e)=>({timestamp:t,carbs:e.carbs||0,nsCarbs:e.nsCarbs||0,bwCarbs:e.bwCarbs||0,bolus:e.bolus||0,journalCarbs:e.journalCarbs||0,hasBolus:void 0!==e.bolus,hasCarbs:void 0!==e.carbs});function c(t){var e=t.history,n=t.carbs;let c=[];var s=[];const f=(0,o.fromEquals)(((t,e)=>Math.abs(new Date(t).getTime()-new Date(e).getTime())<2e3));for(var l=0;l<n.length;l++){const t=n[l];t.carbs&&t.created_at&&c.push(a(t.created_at,{carbs:null!==t.carbs?t.carbs:void 0,nsCarbs:null!==t.carbs?t.carbs:void 0}))}for(l=0;l<e.length;l++){const t=e[l];i.PumpHistoryEvent.is(t)&&"Bolus"===t._type&&t.timestamp?c.push(a(t.timestamp,{bolus:t.amount})):i.PumpHistoryEvent.is(t)&&"BolusWizard"===t._type&&t.timestamp?s.push(t):r.NightscoutTreatment.is(t)&&t.created_at&&("Meal Bolus"===t.eventType||"Correction Bolus"===t.eventType||"Snack Bolus"===t.eventType||"Bolus Wizard"===t.eventType||"Carb Correction"===t.eventType)?c.push(a(t.created_at,{carbs:null!==t.carbs?t.carbs:void 0,nsCarbs:null!==t.carbs?t.carbs:void 0})):r.NightscoutTreatment.is(t)&&"xdrip"===t.enteredBy&&t.created_at||r.NightscoutTreatment.is(t)&&t.carbs&&t.carbs>0&&t.created_at?c.push(a(t.created_at,{carbs:null!==t.carbs?t.carbs:void 0,nsCarbs:null!==t.carbs?t.carbs:void 0,bolus:null!==t.insulin?t.insulin:void 0})):i.PumpHistoryEvent.is(t)&&"JournalEntryMealMarker"===t._type&&t.carb_input&&t.carb_input>0&&c.push(a(t.timestamp,{carbs:t.carb_input,journalCarbs:t.carb_input}))}for(l=0;l<s.length;l++){const t=s[l],e=a(t.timestamp,{carbs:t.carb_input,bwCarbs:t.carb_input});c.some((e=>f.equals(e.timestamp,t.timestamp)&&e.hasCarbs))||(c.some((e=>f.equals(e.timestamp,t.timestamp)&&e.hasBolus))?c.push(e):console.error("Skipping bolus wizard entry",l,"in the pump history with",t.carb_input,"g carbs and no insulin."))}const p=(0,o.struct)({timestamp:f,carbs:o.eqStrict,bolus:o.eqStrict});return(0,u.uniq)(p)(c).sort(((t,e)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()))}e=t.exports=c},923:(t,e)=>{function n(t,e){if(0===t.length)return 0;if("number"!=typeof e)throw new TypeError("p must be a number");if(e<=0)return t[0];if(e>=1)return t[t.length-1];var n=t.length*e,r=Math.floor(n),i=r+1,o=n%1;return i>=t.length?t[r]:t[r]*(1-o)+t[i]*o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,e=t.exports=n},831:(t,e)=>{function n(t,e){var n=e||new Date;const r=t.sort(((t,e)=>Number(t.i)-Number(e.i)));var i=r[r.length-1].rate;if(0!==i){for(var o=60*n.getHours()+n.getMinutes(),u=0;u<r.length-1;u++)if(o>=r[u].minutes&&o<r[u+1].minutes){i=r[u].rate;break}return Math.round(1e3*i)/1e3}console.error("ERROR: bad basal schedule",t)}function r(t){const e=t.basals.reduce(((t,e)=>Number(e.rate)>t?Number(e.rate):t),0);return 1e3*Number(e)/1e3}function i(t){return t.settings.maxBasal}Object.defineProperty(e,"__esModule",{value:!0}),e.basalLookup=n,e.maxDailyBasal=r,e.maxBasalLookup=i,e.maxDailyBasal=r,e.maxBasalLookup=i,e.basalLookup=n},642:(t,e)=>{function n(t,e,n){var r=e||new Date,i=60*r.getHours()+r.getMinutes();if(n&&i>=n.offset&&i<n.endOffset)return[n.sensitivity,n];let o=t.sensitivities.sort(((t,e)=>t.offset-e.offset));var u=o[o.length-1];if(0!==o[0].offset)return[-1,n];for(var a=1440,c=0;c<o.length-1;c++){var s=o[c],f=o[c+1];if(i>=s.offset&&i<f.offset){a=f.offset,u=o[c];break}}return(n=u).endOffset=a,[u.sensitivity,n]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.isfLookup=n,e=t.exports=n},222:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Autosens=void 0;const r=n(635).__importStar(n(24));e.Autosens=r.intersection([r.type({timestamp:r.string,ratio:r.number}),r.partial({newisf:r.number})])},408:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NightscoutTreatment=void 0;const r=n(635).__importStar(n(24)),i=n(656);e.NightscoutTreatment=r.intersection([r.type({eventType:i.EventType,created_at:r.string}),r.partial({id:r.string,duration:r.number,rawDuration:i.PumpHistoryEvent,rawRate:i.PumpHistoryEvent,absolute:r.number,rate:r.number,enteredBy:r.string,bolus:i.PumpHistoryEvent,insulin:r.union([r.number,r.null]),notes:r.string,carbs:r.union([r.number,r.null]),fat:r.number,protein:r.number,foodType:r.string,targetTop:r.number,targetBottom:r.number,glucoseType:r.union([r.literal("Finger"),r.string]),glucose:r.number,units:r.string,fpuID:r.string,amount:r.number})],"NightscoutTreatment")},989:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Profile=e.GlucoseUnits=e.ISFProfile=e.ISFSensitivity=e.InsulineCurve=e.CarbRatios=e.CarbRatioSchedule=e.BasalSchedule=void 0;const r=n(635).__importStar(n(24));e.BasalSchedule=r.intersection([r.type({start:r.string,minutes:r.number,rate:r.number}),r.partial({i:r.number})],"BasalSchedule"),e.CarbRatioSchedule=r.type({start:r.string,offsset:r.number,ratio:r.number},"CarbRatioSchedule"),e.CarbRatios=r.type({units:r.string,schedule:r.array(e.CarbRatioSchedule)},"CarbRatios"),e.InsulineCurve=r.keyof({bilinear:null,"rapid-acting":null,"ultra-rapid":null},"InsulineCurve"),e.ISFSensitivity=r.intersection([r.type({offset:r.number,endOffset:r.number,sensitivity:r.number}),r.partial({i:r.number,start:r.string,x:r.number})],"ISFSensitivity"),e.ISFProfile=r.intersection([r.type({sensitivities:r.array(e.ISFSensitivity)}),r.partial({units:r.string,user_preferred_units:r.string})],"ISFProfile"),e.GlucoseUnits=r.keyof({"mg/dL":null,"mmol/L":null},"GlucoseUnits"),e.Profile=r.intersection([r.type({basalprofile:r.array(e.BasalSchedule),sens:r.number,carb_ratio:r.number,min_5m_carbimpact:r.number}),r.partial({out_units:r.keyof({"mg/dL":null,"mmol/L":null}),max_daily_safety_multiplier:r.number,current_basal_safety_multiplier:r.number,model:r.string,curve:e.InsulineCurve,dia:r.number,useCustomPeakTime:r.boolean,insulinPeakTime:r.number,remainingCarbsCap:r.number,remainingCarbsFraction:r.number,maxCOB:r.number,max_iob:r.number,min_bg:r.number,max_bg:r.number,A52_risk_enable:r.boolean,noisyCGMTargetMultiplier:r.number,maxRaw:r.number,low_temptarget_lowers_sensitivity:r.boolean,high_temptarget_raises_sensitivity:r.boolean,sensitivity_raises_target:r.boolean,resistance_lowers_target:r.boolean,autosens_max:r.number,allowSMB_with_high_temptarget:r.boolean,enableSMB_high_bg_target:r.number,enableSMB_with_temptarget:r.boolean,enableSMB_after_carbs:r.boolean,enableSMB_with_COB:r.boolean,enableSMB_high_bg:r.boolean,enableSMB_always:r.boolean,enableUAM:r.boolean,suspend_zeros_iob:r.boolean,current_basal:r.number,half_basal_exercise_target:r.number,exercise_mode:r.boolean,temptargetSet:r.unknown,max_daily_basal:r.number,max_basal:r.number,maxDelta_bg_threshold:r.number,bg_targets:r.unknown,isfProfile:e.ISFProfile,carb_ratios:e.CarbRatios,carbsReqThreshold:r.number,skip_neutral_temps:r.boolean,maxSMBBasalMinutes:r.number,maxUAMSMBBasalMinutes:r.number,bolus_increment:r.number,SMBInterval:r.number})],"Profile")},656:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PumpHistoryEvent=e.TempType=e.EventType=e.NightscoutEventType=void 0;const r=n(635).__importStar(n(24));e.NightscoutEventType=r.keyof({"Temp Basal":null,"Carb Correction":null,"Temporary Target":null,"Insulin Change":null,"Site Change":null,"Pump Battery Change":null,Announcement:null,"Sensor Start":null,"BG Check":null,Exercise:null,"Bolus Wizard":null}),e.EventType=r.union([e.NightscoutEventType,r.keyof({Bolus:null,SMB:null,"External Insulin":null,"Meal Bolus":null,"Correction Bolus":null,"Snack Bolus":null,BolusWizard:null,TempBasal:null,TempBasalDuration:null,PumpSuspend:null,PumpResume:null,PumpAlarm:null,PumpBattery:null,Rewind:null,Prime:null,JournalEntryMealMarker:null,SuspendBasal:null}),r.string]),e.TempType=r.keyof({absolute:null,percent:null});const i=r.type({_type:e.EventType,timestamp:r.string});e.PumpHistoryEvent=r.intersection([i,r.partial({id:r.string,amount:r.number,duration:r.number,"duration (min)":r.number,rate:r.number,temp:e.TempType,carb_input:r.number,note:r.string,isSMB:r.boolean,isExternal:r.boolean})])},493:(t,e,n)=>{function r(t){return function(e){return function(n){return t.ap(t.map(n,(function(t){return function(){return t}})),e)}}}function i(t){return function(e){return function(n){return t.ap(t.map(n,(function(){return function(t){return t}})),e)}}}function o(t){return function(e,n){return function(r){return t.ap(t.map(r,(function(t){return function(n){var r;return Object.assign({},t,((r={})[e]=n,r))}})),n)}}}n.r(e),n.d(e,{Alt:()=>dr,Alternative:()=>hr,Applicative:()=>cr,Apply:()=>or,Chain:()=>sr,ChainRecBreadthFirst:()=>kr,ChainRecDepthFirst:()=>Dr,Compactable:()=>yr,Do:()=>qr,Extend:()=>gr,Filterable:()=>br,FilterableWithIndex:()=>_r,Foldable:()=>wr,FoldableWithIndex:()=>Tr,FromEither:()=>Fr,Functor:()=>er,FunctorWithIndex:()=>ir,Monad:()=>lr,Pointed:()=>rr,Traversable:()=>Sr,TraversableWithIndex:()=>xr,URI:()=>Gn,Unfoldable:()=>pr,Witherable:()=>Ir,Zero:()=>vr,alt:()=>Dn,altW:()=>Pn,ap:()=>mn,apFirst:()=>ur,apS:()=>Kr,apSecond:()=>ar,append:()=>Dt,appendW:()=>Rt,array:()=>Qr,bind:()=>Gr,bindTo:()=>Lr,chain:()=>Jr,chainFirst:()=>fr,chainRecBreadthFirst:()=>Rr,chainRecDepthFirst:()=>Pr,chainWithIndex:()=>Ht,chop:()=>je,chunksOf:()=>Be,compact:()=>wn,comprehension:()=>Ce,concat:()=>Ne,concatW:()=>Ae,cons:()=>Xr,copy:()=>ve,deleteAt:()=>ge,difference:()=>Ue,dropLeft:()=>oe,dropLeftWhile:()=>ae,dropRight:()=>ue,duplicate:()=>jn,elem:()=>De,empty:()=>Yr,every:()=>Nr,exists:()=>Wr,extend:()=>kn,filter:()=>Sn,filterE:()=>jr,filterMap:()=>_n,filterMapWithIndex:()=>bn,filterWithIndex:()=>Rn,findFirst:()=>se,findFirstMap:()=>fe,findIndex:()=>ce,findLast:()=>le,findLastIndex:()=>de,findLastMap:()=>pe,flap:()=>nr,flatMap:()=>hn,flatten:()=>gn,foldLeft:()=>Wt,foldMap:()=>Fn,foldMapWithIndex:()=>Bn,foldRight:()=>Lt,fromEither:()=>Et,fromEitherK:()=>Br,fromOption:()=>Bt,fromOptionK:()=>Ee,fromPredicate:()=>Ft,getDifferenceMagma:()=>tr,getEq:()=>Yn,getIntersectionSemigroup:()=>Qn,getMonoid:()=>Vn,getOrd:()=>Xn,getSemigroup:()=>Jn,getShow:()=>Kn,getUnionMonoid:()=>$n,getUnionSemigroup:()=>Zn,guard:()=>mr,head:()=>Xt,init:()=>Qt,insertAt:()=>me,intercalate:()=>Ur,intersection:()=>We,intersperse:()=>Ie,isEmpty:()=>Ot,isNonEmpty:()=>Mt,isOutOfBound:()=>Vt,last:()=>Zt,lefts:()=>we,let:()=>Hr,lookup:()=>Yt,makeBy:()=>kt,map:()=>vn,mapWithIndex:()=>yn,match:()=>At,matchLeft:()=>zt,matchLeftW:()=>Nt,matchRight:()=>qt,matchRightW:()=>Ut,matchW:()=>Ct,modifyAt:()=>ye,of:()=>pn,partition:()=>xn,partitionMap:()=>Mn,partitionMapWithIndex:()=>In,partitionWithIndex:()=>On,prepend:()=>It,prependAll:()=>Me,prependToAll:()=>$r,prependW:()=>Pt,range:()=>Vr,reduce:()=>En,reduceRight:()=>An,reduceRightWithIndex:()=>Nn,reduceWithIndex:()=>Cn,replicate:()=>jt,reverse:()=>be,rights:()=>_e,rotate:()=>Pe,scanLeft:()=>Gt,scanRight:()=>Kt,separate:()=>Tn,sequence:()=>Wn,size:()=>Jt,snoc:()=>Zr,some:()=>zr,sort:()=>Te,sortBy:()=>ke,spanLeft:()=>ie,splitAt:()=>Fe,tail:()=>$t,takeLeft:()=>te,takeLeftWhile:()=>ne,takeRight:()=>ee,traverse:()=>zn,traverseWithIndex:()=>Un,unfold:()=>Hn,union:()=>ze,uniq:()=>Re,unsafeDeleteAt:()=>Ar,unsafeInsertAt:()=>Er,unsafeUpdateAt:()=>Cr,unzip:()=>Oe,updateAt:()=>he,wilt:()=>Ln,wither:()=>qn,zero:()=>dn,zip:()=>xe,zipWith:()=>Se});var u=n(3),a=n(508);function c(t){return function(e){return(0,a.L3)(e,t.fromEither)}}var s=n(61),f=n(705),l=n(822),p=function(t){return function(e,n){return e===n||0===t(e,n)}},d=function(t){return{equals:p(t),compare:function(e,n){return e===n?0:t(e,n)}}};a.ue;var v;l.eqStrict.equals,v=void 0;var m=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},h=(f.rb,f.J_),g=function(t,e){return t<0||t>=e.length},y=function(t){return function(e){return m([t],e,!0)}},b=y;var _=function(t){return function(e){for(var n=[t,e[0]],r=1;r<e.length;r++)n.push(t,e[r]);return n}},w=f.Gr,T=f.d5,S=(f.FR,T),x=f.RT,O=function(t){return t[t.length-1]},M=function(t){return function(e){return e.reduce(t.concat)}},I=function(t){var e=M(t);return function(t){return(0,a.L3)(function(t){return function(e){var n=x(e);return h(n)?(0,a.Fs)(n,_(t),b(S(e))):e}}(t),e)}};var P=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},D=function(t){return t.length>0},R=function(t,e){return t<0||t>=e.length},k=function(t){return function(e){return P([t],e,!0)}},j=k,F=function(t){return function(e){return P(P([],e,!0),[t],!1)}},B=F,E=function(t,e,n){if(D(n)){var r=U(n);return r.splice(t,0,e),r}return[e]},C=function(t,e,n){var r=U(n);return r[t]=e,r},A=function(t){return function(e){if(1===e.length)return G(e);for(var n=[X(e)],r=function(e){n.every((function(n){return!t.equals(n,e)}))&&n.push(e)},i=0,o=Z(e);i<o.length;i++){r(o[i])}return n}},N=function(t){if(D(t)){var e={concat:function(t,e){return d((function(n,r){var i=t.compare(n,r);return 0!==i?i:e.compare(n,r)}))},empty:d((function(){return 0}))};return H(t.reduce(e.concat,e.empty))}return G},z=function(t){var e=A(t);return function(t){return function(n){return e((0,a.Fs)(n,L(t)))}}},W=function(t){return function(e){var n=e.length,r=Math.round(t)%n;if(R(Math.abs(r),e)||0===r)return G(e);if(r<0){var i=Y(-r)(e),o=i[0],u=i[1];return(0,a.Fs)(u,L(o))}return W(r-n)(e)}},U=f.aO,q=function(t){return function(e){for(var n=Math.max(0,Math.floor(e)),r=[t(0)],i=1;i<n;i++)r.push(t(i));return r}};function L(t,e){return e?t.concat(e):function(e){return e.concat(t)}}var H=function(t){return function(e){return e.slice().sort(t.compare)}},G=U,K=function(t){return[t]};var J=function(t){return function(e){for(var n=[t,e[0]],r=1;r<e.length;r++)n.push(t,e[r]);return n}},V=function(t){return function(e){for(var n=t(e),r=[n[0]],i=n[1];D(i);){var o=t(i),u=o[0],a=o[1];r.push(u),i=a}return r}},Y=function(t){return function(e){var n=Math.max(1,t);return n>=e.length?[G(e),[]]:[(0,a.Fs)(e.slice(1,n),j(X(e))),e.slice(n)]}},X=(f.FR,S),Z=function(t){return t.slice(1)},$=O,Q=function(t){return t.slice(0,-1)};var tt={equals:function(t,e){return t===e}},et={equals:tt.equals,compare:function(t,e){return t<e?-1:t>e?1:0}},nt=function(t,e){return{left:t,right:e}};function rt(t,e){return function(n){var r=t.traverse(n);return function(t,i){return n.map(r(t,i),e.separate)}}}function it(t,e){return function(n){var r=t.traverse(n);return function(t,i){return n.map(r(t,i),e.compact)}}}function ot(t){return function(e){var n=t.wither(e);return function(t){return function(r){return n(r,(function(n){return e.map(t(n),(function(t){return t?f.zN(n):f.dv}))}))}}}}var ut=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},at=h;var ct=function(t,e){return function(n){return at(n)?e(n):t()}},st=g;function ft(t){return function(e,n){if(void 0===n){var r=ft(t);return function(t){return r(e,t)}}for(var i,o=0;o<n.length;o++)if(i=n[o],t.equals(i,e))return!0;return!1}}var lt=function(t,e){return(0,a.Fs)(t,Tt(e))},pt=function(t,e){return(0,a.Fs)(t,St(e))},dt=w,vt=function(t){return function(e){for(var n=[],r=0;r<e.length;r++){var i=t(r,e[r]);f.Ru(i)&&n.push(i.value)}return n}},mt=function(t){return vt((function(e,n){return t(n)}))},ht=(a.D_,function(t){return function(e){return function(n){return n.reduce((function(n,r,i){return t.concat(n,e(i,r))}),t.empty)}}}),gt=function(t,e){return bt(t,(function(t,n,r){return e(n,r)}))},yt=function(t){var e=ht(t);return function(t){return e((function(e,n){return t(n)}))}},bt=function(t,e){return function(n){for(var r=n.length,i=t,o=0;o<r;o++)i=e(o,i,n[o]);return i}},_t=function(t,e){return wt(t,(function(t,n,r){return e(n,r)}))},wt=function(t,e){return function(n){return n.reduceRight((function(t,n,r){return e(r,n,t)}),t)}},Tt=function(t){return function(e){for(var n=ut([],t(e),!0),r=[];n.length>0;){var i=n.shift();f.OC(i)?n.unshift.apply(n,t(i.left)):r.push(i.right)}return r}},St=function(t){return function(e){var n=t(e),r=[],i=[];function o(e){f.OC(e)?t(e.left).forEach((function(t){return r.push(t)})):i.push(e.right)}for(var u=0,a=n;u<a.length;u++){o(a[u])}for(;r.length>0;)o(r.shift());return i}};f.FR;function xt(t,e){return function(n){return n?e.of(void 0):t.zero()}}var Ot=function(t){return 0===t.length},Mt=D,It=j,Pt=k,Dt=B,Rt=F,kt=function(t,e){return t<=0?[]:q(e)(t)},jt=function(t,e){return kt(t,(function(){return e}))};function Ft(t){return function(e){return t(e)?[e]:[]}}var Bt=function(t){return f.$I(t)?[]:[t.value]},Et=function(t){return f.OC(t)?[]:[t.right]},Ct=function(t,e){return function(n){return Mt(n)?e(n):t()}},At=Ct,Nt=function(t,e){return function(n){return Mt(n)?e(X(n),Z(n)):t()}},zt=Nt,Wt=zt,Ut=function(t,e){return function(n){return Mt(n)?e(Q(n),$(n)):t()}},qt=Ut,Lt=qt,Ht=function(t){return function(e){for(var n=[],r=0;r<e.length;r++)for(var i=t(r,e[r]),o=0;o<i.length;o++)n.push(i[o]);return n}},Gt=function(t,e){return function(n){var r=n.length,i=new Array(r+1);i[0]=t;for(var o=0;o<r;o++)i[o+1]=e(i[o],n[o]);return i}},Kt=function(t,e){return function(n){var r=n.length,i=new Array(r+1);i[r]=t;for(var o=r-1;o>=0;o--)i[o]=e(n[o],i[o+1]);return i}},Jt=function(t){return t.length},Vt=R,Yt=function t(e,n){return void 0===n?function(n){return t(e,n)}:st(e,n)?f.dv:f.zN(n[e])},Xt=function(t){return at(t)?f.zN(S(t)):f.dv},Zt=function(t){return at(t)?f.zN(O(t)):f.dv},$t=function(t){return Mt(t)?f.zN(Z(t)):f.dv},Qt=function(t){return Mt(t)?f.zN(Q(t)):f.dv},te=function(t){return function(e){return Vt(t,e)?ve(e):e.slice(0,t)}},ee=function(t){return function(e){return Vt(t,e)?ve(e):0===t?[]:e.slice(-t)}};function ne(t){return function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(!t(o))break;n.push(o)}return n}}var re=function(t,e){for(var n=t.length,r=0;r<n&&e(t[r]);r++);return r};function ie(t){return function(e){var n=Fe(re(e,t))(e);return{init:n[0],rest:n[1]}}}var oe=function(t){return function(e){return t<=0||Ot(e)?ve(e):t>=e.length?[]:e.slice(t,e.length)}},ue=function(t){return function(e){return t<=0||Ot(e)?ve(e):t>=e.length?[]:e.slice(0,e.length-t)}};function ae(t){return function(e){return e.slice(re(e,t))}}var ce=function(t){return function(e){for(var n=0;n<e.length;n++)if(t(e[n]))return f.zN(n);return f.dv}};function se(t){return function(t){return function(e){for(var n=0;n<e.length;n++)if(t(e[n]))return f.zN(e[n]);return f.dv}}(t)}var fe=function(t){return function(e){for(var n=0;n<e.length;n++){var r=t(e[n]);if(f.Ru(r))return r}return f.dv}};function le(t){return function(t){return function(e){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return f.zN(e[n]);return f.dv}}(t)}var pe=function(t){return function(e){for(var n=e.length-1;n>=0;n--){var r=t(e[n]);if(f.Ru(r))return r}return f.dv}},de=function(t){return function(e){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return f.zN(n);return f.dv}},ve=function(t){return t.slice()},me=function(t,e){return function(n){return t<0||t>n.length?f.dv:f.zN(Er(t,e,n))}},he=function(t,e){return ye(t,(function(){return e}))},ge=function(t){return function(e){return Vt(t,e)?f.dv:f.zN(Ar(t,e))}},ye=function(t,e){return function(n){return Vt(t,n)?f.dv:f.zN(Cr(t,e(n[t]),n))}},be=function(t){return Ot(t)?[]:t.slice().reverse()},_e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"Right"===r._tag&&e.push(r.right)}return e},we=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"Left"===r._tag&&e.push(r.left)}return e},Te=function(t){return function(e){return e.length<=1?ve(e):e.slice().sort(t.compare)}},Se=function(t,e,n){for(var r=[],i=Math.min(t.length,e.length),o=0;o<i;o++)r[o]=n(t[o],e[o]);return r};function xe(t,e){return void 0===e?function(e){return xe(e,t)}:Se(t,e,(function(t,e){return[t,e]}))}var Oe=function(t){for(var e=[],n=[],r=0;r<t.length;r++)e[r]=t[r][0],n[r]=t[r][1];return[e,n]},Me=function(t){var e=J(t);return function(t){return Mt(t)?e(t):[]}},Ie=function(t){var e=function(t){return function(e){var n=Z(e);return D(n)?(0,a.Fs)(n,J(t),j(X(e))):G(e)}}(t);return function(t){return Mt(t)?e(t):ve(t)}},Pe=function(t){var e=W(t);return function(t){return Mt(t)?e(t):ve(t)}},De=ft,Re=function(t){var e=A(t);return function(t){return Mt(t)?e(t):ve(t)}},ke=function(t){var e=N(t);return function(t){return Mt(t)?e(t):ve(t)}},je=function(t){var e=V(t);return function(t){return Mt(t)?e(t):[]}},Fe=function(t){return function(e){return t>=1&&Mt(e)?Y(t)(e):Ot(e)?[ve(e),[]]:[[],ve(e)]}},Be=function(t){var e=function(t){return V(Y(t))}(t);return function(t){return Mt(t)?e(t):[]}},Ee=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Bt(t.apply(void 0,e))}};function Ce(t,e,n){void 0===n&&(n=function(){return!0});var r=function(t,i){return Mt(i)?hn(X(i),(function(e){return r((0,a.Fs)(t,Dt(e)),Z(i))})):n.apply(void 0,t)?[e.apply(void 0,t)]:[]};return r([],t)}var Ae=function(t){return function(e){return Ot(e)?ve(t):Ot(t)?ve(e):e.concat(t)}},Ne=Ae;function ze(t){var e=z(t);return function(n,r){if(void 0===r){var i=ze(t);return function(t){return i(t,n)}}return Mt(n)&&Mt(r)?e(r)(n):Mt(n)?ve(n):ve(r)}}function We(t){var e=De(t);return function(n,r){if(void 0===r){var i=We(t);return function(t){return i(t,n)}}return n.filter((function(t){return e(t,r)}))}}function Ue(t){var e=De(t);return function(n,r){if(void 0===r){var i=Ue(t);return function(t){return i(t,n)}}return n.filter((function(t){return!e(t,r)}))}}var qe=function(t,e){return(0,a.Fs)(t,vn(e))},Le=function(t,e){return(0,a.Fs)(t,yn(e))},He=function(t,e){return(0,a.Fs)(t,mn(e))},Ge=function(t,e){return(0,a.Fs)(t,Sn(e))},Ke=function(t,e){return(0,a.Fs)(t,_n(e))},Je=function(t,e){return(0,a.Fs)(t,xn(e))},Ve=function(t,e){return(0,a.Fs)(t,Mn(e))},Ye=function(t,e){return(0,a.Fs)(t,On(e))},Xe=function(t,e){return(0,a.Fs)(t,In(e))},Ze=function(t,e){return(0,a.Fs)(t,Dn(e))},$e=function(t,e,n){return(0,a.Fs)(t,En(e,n))},Qe=function(t){var e=Fn(t);return function(t,n){return(0,a.Fs)(t,e(n))}},tn=function(t,e,n){return(0,a.Fs)(t,An(e,n))},en=function(t,e,n){return(0,a.Fs)(t,Cn(e,n))},nn=function(t){var e=Bn(t);return function(t,n){return(0,a.Fs)(t,e(n))}},rn=function(t,e,n){return(0,a.Fs)(t,Nn(e,n))},on=function(t,e){return(0,a.Fs)(t,bn(e))},un=function(t,e){return(0,a.Fs)(t,Rn(e))},an=function(t,e){return(0,a.Fs)(t,kn(e))},cn=function(t){var e=zn(t);return function(t,n){return(0,a.Fs)(t,e(n))}},sn=function(t){var e=Un(t);return function(t,n){return(0,a.Fs)(t,e(n))}},fn=lt,ln=pt,pn=K,dn=function(){return[]},vn=function(t){return function(e){return e.map((function(e){return t(e)}))}},mn=function(t){return hn((function(e){return(0,a.Fs)(t,vn(e))}))},hn=(0,a.XY)(2,(function(t,e){return(0,a.Fs)(t,Ht((function(t,n){return e(n,t)})))})),gn=hn(a.D_),yn=function(t){return function(e){return e.map((function(e,n){return t(n,e)}))}},bn=function(t){return function(e){for(var n=[],r=0;r<e.length;r++){var i=t(r,e[r]);f.Ru(i)&&n.push(i.value)}return n}},_n=function(t){return bn((function(e,n){return t(n)}))},wn=_n(a.D_),Tn=function(t){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var o=i[r];"Left"===o._tag?e.push(o.left):n.push(o.right)}return nt(e,n)},Sn=function(t){return function(e){return e.filter(t)}},xn=function(t){return On((function(e,n){return t(n)}))},On=function(t){return function(e){for(var n=[],r=[],i=0;i<e.length;i++){var o=e[i];t(i,o)?r.push(o):n.push(o)}return nt(n,r)}},Mn=function(t){return In((function(e,n){return t(n)}))},In=function(t){return function(e){for(var n=[],r=[],i=0;i<e.length;i++){var o=t(i,e[i]);"Left"===o._tag?n.push(o.left):r.push(o.right)}return nt(n,r)}},Pn=function(t){return function(e){return e.concat(t())}},Dn=Pn,Rn=function(t){return function(e){return e.filter((function(e,n){return t(n,e)}))}},kn=function(t){return function(e){return e.map((function(n,r){return t(e.slice(r))}))}},jn=kn(a.D_),Fn=yt,Bn=ht,En=gt,Cn=bt,An=_t,Nn=wt,zn=function(t){var e=Un(t);return function(t){return e((function(e,n){return t(n)}))}},Wn=function(t){return function(e){return $e(e,t.of(dn()),(function(e,n){return t.ap(t.map(e,(function(t){return function(e){return(0,a.Fs)(t,Dt(e))}})),n)}))}},Un=function(t){return function(e){return Cn(t.of(dn()),(function(n,r,i){return t.ap(t.map(r,(function(t){return function(e){return(0,a.Fs)(t,Dt(e))}})),e(n,i))}))}},qn=function(t){var e=Or(t);return function(t){return function(n){return e(n,t)}}},Ln=function(t){var e=Mr(t);return function(t){return function(n){return e(n,t)}}},Hn=function(t,e){for(var n=[],r=t;;){var i=e(r);if(!f.Ru(i))break;var o=i.value,u=o[0],a=o[1];n.push(u),r=a}return n},Gn="Array",Kn=function(t){return{show:function(e){return"[".concat(e.map(t.show).join(", "),"]")}}},Jn=function(){return{concat:function(t,e){return t.concat(e)}}},Vn=function(){return{concat:Jn().concat,empty:[]}},Yn=function(t){return(0,l.fromEquals)((function(e,n){return e.length===n.length&&e.every((function(e,r){return t.equals(e,n[r])}))}))},Xn=function(t){return d((function(e,n){for(var r=e.length,i=n.length,o=Math.min(r,i),u=0;u<o;u++){var a=t.compare(e[u],n[u]);if(0!==a)return a}return et.compare(r,i)}))},Zn=function(t){var e=ze(t);return{concat:function(t,n){return e(n)(t)}}},$n=function(t){return{concat:Zn(t).concat,empty:[]}},Qn=function(t){var e=We(t);return{concat:function(t,n){return e(n)(t)}}},tr=function(t){var e=Ue(t);return{concat:function(t,n){return e(n)(t)}}},er={URI:Gn,map:qe},nr=(0,s.Cn)(er),rr={URI:Gn,of:pn},ir={URI:Gn,map:qe,mapWithIndex:Le},or={URI:Gn,map:qe,ap:He},ur=r(or),ar=i(or),cr={URI:Gn,map:qe,ap:He,of:pn},sr={URI:Gn,map:qe,ap:He,chain:hn},fr=(0,u.W6)(sr),lr={URI:Gn,map:qe,ap:He,of:pn,chain:hn},pr={URI:Gn,unfold:Hn},dr={URI:Gn,map:qe,alt:Ze},vr={URI:Gn,zero:dn},mr=xt(vr,rr),hr={URI:Gn,map:qe,ap:He,of:pn,alt:Ze,zero:dn},gr={URI:Gn,map:qe,extend:an},yr={URI:Gn,compact:wn,separate:Tn},br={URI:Gn,map:qe,compact:wn,separate:Tn,filter:Ge,filterMap:Ke,partition:Je,partitionMap:Ve},_r={URI:Gn,map:qe,mapWithIndex:Le,compact:wn,separate:Tn,filter:Ge,filterMap:Ke,partition:Je,partitionMap:Ve,partitionMapWithIndex:Xe,partitionWithIndex:Ye,filterMapWithIndex:on,filterWithIndex:un},wr={URI:Gn,reduce:$e,foldMap:Qe,reduceRight:tn},Tr={URI:Gn,reduce:$e,foldMap:Qe,reduceRight:tn,reduceWithIndex:en,foldMapWithIndex:nn,reduceRightWithIndex:rn},Sr={URI:Gn,map:qe,reduce:$e,foldMap:Qe,reduceRight:tn,traverse:cn,sequence:Wn},xr={URI:Gn,map:qe,mapWithIndex:Le,reduce:$e,foldMap:Qe,reduceRight:tn,reduceWithIndex:en,foldMapWithIndex:nn,reduceRightWithIndex:rn,traverse:cn,sequence:Wn,traverseWithIndex:sn},Or=it(Sr,yr),Mr=rt(Sr,yr),Ir={URI:Gn,map:qe,compact:wn,separate:Tn,filter:Ge,filterMap:Ke,partition:Je,partitionMap:Ve,reduce:$e,foldMap:Qe,reduceRight:tn,traverse:cn,sequence:Wn,wither:Or,wilt:Mr},Pr=Tt,Dr={URI:Gn,map:qe,ap:He,chain:hn,chainRec:fn},Rr=St,kr={URI:Gn,map:qe,ap:He,chain:hn,chainRec:ln},jr=ot(Ir),Fr={URI:Gn,fromEither:Et},Br=c(Fr),Er=E,Cr=function(t,e,n){return Mt(n)?C(t,e,n):[]},Ar=function(t,e){var n=e.slice();return n.splice(t,1),n},Nr=function(t){return function(e){return e.every(t)}},zr=function(t){return function(e){return e.some(t)}},Wr=zr,Ur=function(t){var e=I(t);return function(n){return ct((function(){return t.empty}),e(n))}},qr=pn(f.FR),Lr=(0,s.Jr)(er),Hr=(0,s.uV)(er),Gr=(0,u.oI)(sr),Kr=o(or),Jr=hn,Vr=function(t,e){return t<=e?q((function(e){return t+e}))(e-t+1):[t]},Yr=[],Xr=function(t,e){return void 0===e?j(t):(0,a.Fs)(e,j(t))},Zr=function(t,e){return(0,a.Fs)(t,B(e))},$r=Me,Qr={URI:Gn,compact:wn,separate:Tn,map:qe,ap:He,of:pn,chain:hn,filter:Ge,filterMap:Ke,partition:Je,partitionMap:Ve,mapWithIndex:Le,partitionMapWithIndex:Xe,partitionWithIndex:Ye,filterMapWithIndex:on,filterWithIndex:un,alt:Ze,zero:dn,unfold:Hn,reduce:$e,foldMap:Qe,reduceRight:tn,traverse:cn,sequence:Wn,reduceWithIndex:en,foldMapWithIndex:nn,reduceRightWithIndex:rn,traverseWithIndex:sn,extend:an,wither:Or,wilt:Mr}},3:(t,e,n)=>{function r(t){var e=i(t);return function(t){return function(n){return e(n,t)}}}function i(t){return function(e,n){return t.chain(e,(function(e){return t.map(n(e),(function(){return e}))}))}}function o(t){return function(e,n){return function(r){return t.chain(r,(function(r){return t.map(n(r),(function(t){var n;return Object.assign({},r,((n={})[e]=t,n))}))}))}}}n.d(e,{Mi:()=>i,W6:()=>r,oI:()=>o})},822:(t,e,n)=>{n.r(e),n.d(e,{Contravariant:()=>d,URI:()=>c,contramap:()=>a,eq:()=>g,eqBoolean:()=>y,eqDate:()=>w,eqNumber:()=>_,eqStrict:()=>s,eqString:()=>b,fromEquals:()=>i,getMonoid:()=>p,getSemigroup:()=>l,getStructEq:()=>m,getTupleEq:()=>v,strictEqual:()=>h,struct:()=>o,tuple:()=>u});var r=n(508),i=function(t){return{equals:function(e,n){return e===n||t(e,n)}}},o=function(t){return i((function(e,n){for(var r in t)if(!t[r].equals(e[r],n[r]))return!1;return!0}))},u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i((function(e,n){return t.every((function(t,r){return t.equals(e[r],n[r])}))}))},a=function(t){return function(e){return i((function(n,r){return e.equals(t(n),t(r))}))}},c="Eq",s={equals:function(t,e){return t===e}},f={equals:function(){return!0}},l=function(){return{concat:function(t,e){return i((function(n,r){return t.equals(n,r)&&e.equals(n,r)}))}}},p=function(){return{concat:l().concat,empty:f}},d={URI:c,contramap:function(t,e){return(0,r.Fs)(t,a(e))}},v=u,m=o,h=s.equals,g=d,y=s,b=s,_=s,w={equals:function(t,e){return t.valueOf()===e.valueOf()}}},61:(t,e,n)=>{function r(t){return function(e){return function(n){return t.map(n,(function(t){return t(e)}))}}}function i(t){return function(e){return function(n){return t.map(n,(function(t){var n;return(n={})[e]=t,n}))}}}function o(t){return function(e,n){return function(r){return t.map(r,(function(t){var r;return Object.assign({},t,((r={})[e]=n(t),r))}))}}}function u(t){return function(e,n){return t.map(e,(function(){return n}))}}function a(t){var e=u(t);return function(t){return e(t,void 0)}}n.d(e,{Cn:()=>r,Jr:()=>i,Pg:()=>a,as:()=>u,uV:()=>o})},508:(t,e,n)=>{n.d(e,{D_:()=>i,Fs:()=>c,L3:()=>a,SK:()=>s,XY:()=>f,dY:()=>o,ue:()=>u});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function i(t){return t}function o(t){return function(){return t}}var u=o(!0);function a(t,e,n,r,i,o,u,a,c){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return i(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return u(o(i(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return a(u(o(i(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return c(a(u(o(i(r(n(e(t.apply(this,arguments)))))))))}}}function c(t,e,n,r,i,o,u,a,c){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return u(o(i(r(n(e(t))))));case 8:return a(u(o(i(r(n(e(t)))))));case 9:return c(a(u(o(i(r(n(e(t))))))));default:for(var s=arguments[0],f=1;f<arguments.length;f++)s=arguments[f](s);return s}}var s=function(t,e){return e};var f=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,r([n],t,!1))}}}},705:(t,e,n)=>{n.d(e,{$I:()=>i,FG:()=>s,FR:()=>g,Gr:()=>p,J_:()=>d,OC:()=>c,RT:()=>m,Ru:()=>o,aO:()=>y,d5:()=>v,dv:()=>u,kb:()=>f,pG:()=>l,rb:()=>h,zN:()=>a});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t){return"None"===t._tag},o=function(t){return"Some"===t._tag},u={_tag:"None"},a=function(t){return{_tag:"Some",value:t}},c=function(t){return"Left"===t._tag},s=function(t){return"Right"===t._tag},f=function(t){return{_tag:"Left",left:t}},l=function(t){return{_tag:"Right",right:t}},p=function(t){return[t]},d=function(t){return t.length>0},v=function(t){return t[0]},m=function(t){return t.slice(1)},h=[],g={},y=(Object.prototype.hasOwnProperty,function(t){return r([t[0]],t.slice(1),!0)})},24:(t,e,n)=>{n.r(e),n.d(e,{AnyArrayType:()=>mt,AnyDictionaryType:()=>gt,AnyType:()=>Qt,Array:()=>ht,ArrayType:()=>Pt,BigIntType:()=>lt,BooleanType:()=>dt,Dictionary:()=>ae,DictionaryType:()=>Bt,ExactType:()=>Jt,Function:()=>Xt,FunctionType:()=>Yt,Int:()=>Ot,Integer:()=>ne,InterfaceType:()=>Rt,IntersectionType:()=>Nt,KeyofType:()=>wt,LiteralType:()=>bt,NeverType:()=>Zt,NullType:()=>Q,NumberType:()=>st,ObjectType:()=>ce,PartialType:()=>jt,ReadonlyArrayType:()=>Ht,ReadonlyType:()=>qt,RecursiveType:()=>Mt,RefinementType:()=>St,StrictType:()=>le,StringType:()=>at,TaggedUnionType:()=>re,TupleType:()=>Wt,Type:()=>M,UndefinedType:()=>et,UnionType:()=>Ct,UnknownArray:()=>ht,UnknownRecord:()=>yt,UnknownType:()=>ot,VoidType:()=>rt,alias:()=>de,any:()=>te,appendContext:()=>R,array:()=>Dt,bigint:()=>pt,boolean:()=>vt,brand:()=>xt,clean:()=>pe,dictionary:()=>fe,emptyTags:()=>H,exact:()=>Vt,failure:()=>x,failures:()=>S,getContextEntry:()=>D,getDefaultContext:()=>ue,getDomainKeys:()=>A,getFunctionName:()=>P,getIndex:()=>$,getTags:()=>Z,getValidationError:()=>oe,identity:()=>I,interface:()=>kt,intersection:()=>zt,keyof:()=>Tt,literal:()=>_t,mergeAll:()=>W,never:()=>$t,null:()=>tt,nullType:()=>tt,number:()=>ft,object:()=>se,partial:()=>Ft,readonly:()=>Lt,readonlyArray:()=>Gt,record:()=>Et,recursion:()=>It,refinement:()=>ee,strict:()=>Kt,string:()=>ct,success:()=>O,taggedUnion:()=>ie,tuple:()=>Ut,type:()=>kt,undefined:()=>nt,union:()=>At,unknown:()=>ut,void:()=>it,voidType:()=>it});var r=n(3),i=n(508),o=n(61),u=n(705),a=u.kb,c=u.pG,s=(0,i.XY)(2,(function(t,e){return y(t)?t:e(t.right)})),f=function(t,e){return(0,i.Fs)(t,d(e))},l=function(t,e){return(0,i.Fs)(t,h(e))},p="Either",d=function(t){return function(e){return y(e)?e:c(t(e.right))}},v={URI:p,map:f},m=((0,i.XY)(2,(0,o.as)(v)),(0,o.Pg)(v),c),h=function(t){return function(e){return y(e)?e:y(t)?t:c(e.right(t.right))}},g={URI:p,map:f,ap:l,chain:s},y=(i.D_,u.OC);u.FG,r.Mi(g);u.FR,u.rb;var b,_=(b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},w.apply(this,arguments)},T=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},S=a,x=function(t,e,n){return S([{value:t,context:e,message:n}])},O=c,M=function(){function t(t,e,n,r){this.name=t,this.is=e,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(e,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(e.name,")")),new t(n,e.is,(function(t,n){var i=r.validate(t,n);return y(i)?i:e.validate(i.right,n)}),this.encode===I&&e.encode===I?I:function(t){return r.encode(e.encode(t))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},t}(),I=function(t){return t};function P(t){return t.displayName||t.name||"<function".concat(t.length,">")}function D(t,e){return{key:t,type:e}}function R(t,e,n,r){for(var i=t.length,o=Array(i+1),u=0;u<i;u++)o[u]=t[u];return o[i]={key:e,type:n,actual:r},o}function k(t,e){for(var n=e.length,r=0;r<n;r++)t.push(e[r])}var j=Object.prototype.hasOwnProperty;function F(t){return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e].name)})).join(", ")}function B(t){for(var e=0;e<t.length;e++)if(t[e].encode!==I)return!1;return!0}function E(t){return"{ ".concat(F(t)," }")}function C(t){return"Partial<".concat(t,">")}function A(t){var e;if(J(t)){var n=t.value;if(ct.is(n))return(e={})[n]=null,e}else{if("KeyofType"===t._tag)return t.keys;if(Y(t)){var r=t.types.map((function(t){return A(t)}));return r.some(nt.is)?void 0:Object.assign.apply(Object,T([{}],r,!1))}}}function N(t,e){for(var n=Object.keys(t),r=n.length,i=!1,o={},u=0;u<r;u++){var a=n[u];e.is(a)?o[a]=t[a]:i=!0}return i?o:t}function z(t){return"("+t.map((function(t){return t.name})).join(" | ")+")"}function W(t,e){for(var n=!0,r=!0,i=!yt.is(t),o=0,u=e;o<u.length;o++){(f=u[o])!==t&&(n=!1),yt.is(f)&&(r=!1)}if(n)return t;if(r)return e[e.length-1];for(var a={},c=0,s=e;c<s.length;c++){var f=s[c];for(var l in f)j.call(a,l)&&!i&&f[l]===t[l]||(a[l]=f[l])}return a}function U(t){switch(t._tag){case"RefinementType":case"ReadonlyType":return U(t.type);case"InterfaceType":case"StrictType":case"PartialType":return t.props;case"IntersectionType":return t.types.reduce((function(t,e){return Object.assign(t,U(e))}),{})}}function q(t,e){for(var n=Object.getOwnPropertyNames(t),r=!1,i={},o=0;o<n.length;o++){var u=n[o];j.call(e,u)?i[u]=t[u]:r=!0}return r?i:t}function L(t){return t.length>0}var H={};function G(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];-1!==e.indexOf(o)&&n.push(o)}return n}function K(t){return"AnyType"===t._tag}function J(t){return"LiteralType"===t._tag}function V(t){return"InterfaceType"===t._tag}function Y(t){return"UnionType"===t._tag}var X=[];function Z(t){if(-1!==X.indexOf(t))return H;if(V(t)||function(t){return"StrictType"===t._tag}(t)){var e=H;for(var n in t.props){var r=t.props[n];J(r)&&(e===H&&(e={}),e[n]=[r.value])}return e}if(function(t){return"ExactType"===t._tag}(t)||function(t){return"RefinementType"===t._tag}(t))return Z(t.type);if(function(t){return"IntersectionType"===t._tag}(t))return t.types.reduce((function(t,e){return function(t,e){if(t===H)return e;if(e===H)return t;var n=Object.assign({},t);for(var r in e)if(j.call(t,r)){var i=G(t[r],e[r]);if(!L(i)){n=H;break}n[r]=i}else n[r]=e[r];return n}(t,Z(e))}),H);if(Y(t))return t.types.slice(1).reduce((function(t,e){return function(t,e){if(t===H||e===H)return H;var n=H;for(var r in t)j.call(e,r)&&0===G(t[r],e[r]).length&&(n===H&&(n={}),n[r]=t[r].concat(e[r]));return n}(t,Z(e))}),Z(t.types[0]));if(function(t){return"RecursiveType"===t._tag}(t)){X.push(t);var i=Z(t.type);return X.pop(),i}return H}function $(t){for(var e=Z(t[0]),n=Object.keys(e),r=t.length,i=function(n){for(var i=e[n].slice(),o=[e[n]],u=1;u<r;u++){var a=Z(t[u])[n];if(void 0===a)return"continue-keys";if(a.some((function(t){return-1!==i.indexOf(t)})))return"continue-keys";i.push.apply(i,a),o.push(a)}return{value:[n,o]}},o=0,u=n;o<u.length;o++){var a=i(u[o]);if("object"==typeof a)return a.value}}var Q=function(t){function e(){var e=t.call(this,"null",(function(t){return null===t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="NullType",e}return _(e,t),e}(M),tt=new Q,et=function(t){function e(){var e=t.call(this,"undefined",(function(t){return void 0===t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="UndefinedType",e}return _(e,t),e}(M),nt=new et,rt=function(t){function e(){var e=t.call(this,"void",nt.is,nt.validate,I)||this;return e._tag="VoidType",e}return _(e,t),e}(M),it=new rt,ot=function(t){function e(){var e=t.call(this,"unknown",(function(t){return!0}),O,I)||this;return e._tag="UnknownType",e}return _(e,t),e}(M),ut=new ot,at=function(t){function e(){var e=t.call(this,"string",(function(t){return"string"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="StringType",e}return _(e,t),e}(M),ct=new at,st=function(t){function e(){var e=t.call(this,"number",(function(t){return"number"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="NumberType",e}return _(e,t),e}(M),ft=new st,lt=function(t){function e(){var e=t.call(this,"bigint",(function(t){return"bigint"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="BigIntType",e}return _(e,t),e}(M),pt=new lt,dt=function(t){function e(){var e=t.call(this,"boolean",(function(t){return"boolean"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="BooleanType",e}return _(e,t),e}(M),vt=new dt,mt=function(t){function e(){var e=t.call(this,"UnknownArray",Array.isArray,(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="AnyArrayType",e}return _(e,t),e}(M),ht=new mt,gt=function(t){function e(){var e=t.call(this,"UnknownRecord",(function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="AnyDictionaryType",e}return _(e,t),e}(M),yt=new gt,bt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.value=o,u._tag="LiteralType",u}return _(e,t),e}(M);function _t(t,e){void 0===e&&(e=JSON.stringify(t));var n=function(e){return e===t};return new bt(e,n,(function(e,r){return n(e)?O(t):x(e,r)}),I,t)}var wt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.keys=o,u._tag="KeyofType",u}return _(e,t),e}(M);function Tt(t,e){void 0===e&&(e=Object.keys(t).map((function(t){return JSON.stringify(t)})).join(" | "));var n=function(e){return ct.is(e)&&j.call(t,e)};return new wt(e,n,(function(t,e){return n(t)?O(t):x(t,e)}),I,t)}var St=function(t){function e(e,n,r,i,o,u){var a=t.call(this,e,n,r,i)||this;return a.type=o,a.predicate=u,a._tag="RefinementType",a}return _(e,t),e}(M);function xt(t,e,n){return ee(t,e,n)}var Ot=xt(ft,(function(t){return Number.isInteger(t)}),"Int"),Mt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.runDefinition=o,u._tag="RecursiveType",u}return _(e,t),e}(M);function It(t,e){var n,r=function(){return n||((n=e(i)).name=t),n},i=new Mt(t,(function(t){return r().is(t)}),(function(t,e){return r().validate(t,e)}),(function(t){return r().encode(t)}),r);return i}Object.defineProperty(Mt.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var Pt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.type=o,u._tag="ArrayType",u}return _(e,t),e}(M);function Dt(t,e){return void 0===e&&(e="Array<".concat(t.name,">")),new Pt(e,(function(e){return ht.is(e)&&e.every(t.is)}),(function(e,n){var r=ht.validate(e,n);if(y(r))return r;for(var i=r.right,o=i.length,u=i,a=[],c=0;c<o;c++){var s=i[c],f=t.validate(s,R(n,String(c),t,s));if(y(f))k(a,f.left);else{var l=f.right;l!==s&&(u===i&&(u=i.slice()),u[c]=l)}}return a.length>0?S(a):O(u)}),t.encode===I?I:function(e){return e.map(t.encode)},t)}var Rt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.props=o,u._tag="InterfaceType",u}return _(e,t),e}(M);function kt(t,e){void 0===e&&(e=E(t));var n=Object.keys(t),r=n.map((function(e){return t[e]})),i=n.length;return new Rt(e,(function(t){if(yt.is(t)){for(var e=0;e<i;e++){var o=n[e],u=t[o];if(void 0===u&&!j.call(t,o)||!r[e].is(u))return!1}return!0}return!1}),(function(t,e){var o=yt.validate(t,e);if(y(o))return o;for(var u=o.right,a=u,c=[],s=0;s<i;s++){var f=n[s],l=a[f],p=r[s],d=p.validate(l,R(e,f,p,l));if(y(d))k(c,d.left);else{var v=d.right;(v!==l||void 0===v&&!j.call(a,f))&&(a===u&&(a=w({},u)),a[f]=v)}}return c.length>0?S(c):O(a)}),B(r)?I:function(t){for(var e=w({},t),o=0;o<i;o++){var u=n[o],a=r[o].encode;a!==I&&(e[u]=a(t[u]))}return e},t)}var jt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.props=o,u._tag="PartialType",u}return _(e,t),e}(M);function Ft(t,e){void 0===e&&(e=C(E(t)));var n=Object.keys(t),r=n.map((function(e){return t[e]})),i=n.length;return new jt(e,(function(e){if(yt.is(e)){for(var r=0;r<i;r++){var o=n[r],u=e[o];if(void 0!==u&&!t[o].is(u))return!1}return!0}return!1}),(function(e,r){var o=yt.validate(e,r);if(y(o))return o;for(var u=o.right,a=u,c=[],s=0;s<i;s++){var f=n[s],l=a[f],p=t[f],d=p.validate(l,R(r,f,p,l));if(y(d))void 0!==l&&k(c,d.left);else{var v=d.right;v!==l&&(a===u&&(a=w({},u)),a[f]=v)}}return c.length>0?S(c):O(a)}),B(r)?I:function(t){for(var e=w({},t),o=0;o<i;o++){var u=n[o],a=t[u];void 0!==a&&(e[u]=r[o].encode(a))}return e},t)}var Bt=function(t){function e(e,n,r,i,o,u){var a=t.call(this,e,n,r,i)||this;return a.domain=o,a.codomain=u,a._tag="DictionaryType",a}return _(e,t),e}(M);function Et(t,e,n){var r=A(t);return r?function(t,e,n,r){void 0===r&&(r="{ [K in ".concat(e.name,"]: ").concat(n.name," }"));for(var i=t.length,o={},u=0;u<i;u++)o[t[u]]=n;var a=Kt(o,r);return new Bt(r,(function(t){return a.is(t)}),a.validate,a.encode,e,n)}(Object.keys(r),t,e,n):function(t,e,n){return void 0===n&&(n="{ [K in ".concat(t.name,"]: ").concat(e.name," }")),new Bt(n,(function(n){return yt.is(n)?Object.keys(n).every((function(r){return!t.is(r)||e.is(n[r])})):K(e)&&Array.isArray(n)}),(function(n,r){if(yt.is(n)){for(var i={},o=[],u=Object.keys(n),a=u.length,c=!1,s=0;s<a;s++){var f=u[s],l=n[f],p=t.validate(f,R(r,f,t,f));if(y(p))c=!0;else{var d=p.right;c=c||d!==f,f=d;var v=e.validate(l,R(r,f,e,l));if(y(v))k(o,v.left);else{var m=v.right;c=c||m!==l,i[f]=m}}}return o.length>0?S(o):O(c?i:n)}return K(e)&&Array.isArray(n)?O(n):x(n,r)}),t.encode===I&&e.encode===I?function(e){return N(e,t)}:function(n){for(var r={},i=Object.keys(N(n,t)),o=i.length,u=0;u<o;u++){var a=i[u];r[String(t.encode(a))]=e.encode(n[a])}return r},t,e)}(t,e,n)}var Ct=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.types=o,u._tag="UnionType",u}return _(e,t),e}(M);function At(t,e){void 0===e&&(e=z(t));var n=$(t);if(void 0!==n&&t.length>0){var r=n[0],i=n[1],o=i.length,u=function(t){for(var e=0;e<o;e++)if(-1!==i[e].indexOf(t))return e};return new re(e,(function(e){if(yt.is(e)){var n=u(e[r]);return void 0!==n&&t[n].is(e)}return!1}),(function(e,n){var i=yt.validate(e,n);if(y(i))return i;var o=i.right,a=u(o[r]);if(void 0===a)return x(e,n);var c=t[a];return c.validate(o,R(n,String(a),c,o))}),B(t)?I:function(n){var i=u(n[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec ".concat(e));return t[i].encode(n)},t,r)}return new Ct(e,(function(e){return t.some((function(t){return t.is(e)}))}),(function(e,n){for(var r=[],i=0;i<t.length;i++){var o=t[i],u=o.validate(e,R(n,String(i),o,e));if(!y(u))return O(u.right);k(r,u.left)}return S(r)}),B(t)?I:function(n){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.is(n))return o.encode(n)}throw new Error("no codec found to encode value in union type ".concat(e))},t)}var Nt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.types=o,u._tag="IntersectionType",u}return _(e,t),e}(M);function zt(t,e){void 0===e&&(e="(".concat(t.map((function(t){return t.name})).join(" & "),")"));var n=t.length;return new Nt(e,(function(e){return t.every((function(t){return t.is(e)}))}),0===t.length?O:function(e,r){for(var i=[],o=[],u=0;u<n;u++){var a=t[u],c=a.validate(e,R(r,String(u),a,e));y(c)?k(o,c.left):i.push(c.right)}return o.length>0?S(o):O(W(e,i))},0===t.length?I:function(e){return W(e,t.map((function(t){return t.encode(e)})))},t)}var Wt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.types=o,u._tag="TupleType",u}return _(e,t),e}(M);function Ut(t,e){void 0===e&&(e="[".concat(t.map((function(t){return t.name})).join(", "),"]"));var n=t.length;return new Wt(e,(function(e){return ht.is(e)&&e.length===n&&t.every((function(t,n){return t.is(e[n])}))}),(function(e,r){var i=ht.validate(e,r);if(y(i))return i;for(var o=i.right,u=o.length>n?o.slice(0,n):o,a=[],c=0;c<n;c++){var s=o[c],f=t[c],l=f.validate(s,R(r,String(c),f,s));if(y(l))k(a,l.left);else{var p=l.right;p!==s&&(u===o&&(u=o.slice()),u[c]=p)}}return a.length>0?S(a):O(u)}),B(t)?I:function(e){return t.map((function(t,n){return t.encode(e[n])}))},t)}var qt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.type=o,u._tag="ReadonlyType",u}return _(e,t),e}(M);function Lt(t,e){return void 0===e&&(e="Readonly<".concat(t.name,">")),new qt(e,t.is,t.validate,t.encode,t)}var Ht=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.type=o,u._tag="ReadonlyArrayType",u}return _(e,t),e}(M);function Gt(t,e){void 0===e&&(e="ReadonlyArray<".concat(t.name,">"));var n=Dt(t);return new Ht(e,n.is,n.validate,n.encode,t)}var Kt=function(t,e){return Vt(kt(t),e)},Jt=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.type=o,u._tag="ExactType",u}return _(e,t),e}(M);function Vt(t,e){void 0===e&&(e=function(t){return V(t)?"{| ".concat(F(t.props)," |}"):function(t){return"PartialType"===t._tag}(t)?C("{| ".concat(F(t.props)," |}")):"Exact<".concat(t.name,">")}(t));var n=U(t);return new Jt(e,t.is,(function(e,r){var i=yt.validate(e,r);if(y(i))return i;var o=t.validate(e,r);return y(o)?o:c(q(o.right,n))}),(function(e){return t.encode(q(e,n))}),t)}var Yt=function(t){function e(){var e=t.call(this,"Function",(function(t){return"function"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="FunctionType",e}return _(e,t),e}(M),Xt=new Yt,Zt=function(t){function e(){var e=t.call(this,"never",(function(t){return!1}),(function(t,e){return x(t,e)}),(function(){throw new Error("cannot encode never")}))||this;return e._tag="NeverType",e}return _(e,t),e}(M),$t=new Zt,Qt=function(t){function e(){var e=t.call(this,"any",(function(t){return!0}),O,I)||this;return e._tag="AnyType",e}return _(e,t),e}(M),te=new Qt;function ee(t,e,n){return void 0===n&&(n="(".concat(t.name," | ").concat(P(e),")")),new St(n,(function(n){return t.is(n)&&e(n)}),(function(n,r){var i=t.validate(n,r);if(y(i))return i;var o=i.right;return e(o)?O(o):x(o,r)}),t.encode,t,e)}var ne=ee(ft,Number.isInteger,"Integer"),re=function(t){function e(e,n,r,i,o,u){var a=t.call(this,e,n,r,i,o)||this;return a.tag=u,a}return _(e,t),e}(Ct),ie=function(t,e,n){void 0===n&&(n=z(e));var r=At(e,n);return r instanceof re?r:(console.warn("[io-ts] Cannot build a tagged union for ".concat(n,", returning a de-optimized union")),new re(n,r.is,r.validate,r.encode,e,t))},oe=function(t,e){return{value:t,context:e}},ue=function(t){return[{key:"",type:t}]},ae=yt,ce=function(t){function e(){var e=t.call(this,"object",(function(t){return null!==t&&"object"==typeof t}),(function(t,n){return e.is(t)?O(t):x(t,n)}),I)||this;return e._tag="ObjectType",e}return _(e,t),e}(M),se=new ce,fe=Et,le=function(t){function e(e,n,r,i,o){var u=t.call(this,e,n,r,i)||this;return u.props=o,u._tag="StrictType",u}return _(e,t),e}(M);function pe(t){return t}function de(t){return function(){return t}}},635:(t,e,n)=>{n.r(e),n.d(e,{__addDisposableResource:()=>B,__assign:()=>o,__asyncDelegator:()=>O,__asyncGenerator:()=>x,__asyncValues:()=>M,__await:()=>S,__awaiter:()=>v,__classPrivateFieldGet:()=>k,__classPrivateFieldIn:()=>F,__classPrivateFieldSet:()=>j,__createBinding:()=>h,__decorate:()=>a,__disposeResources:()=>C,__esDecorate:()=>s,__exportStar:()=>g,__extends:()=>i,__generator:()=>m,__importDefault:()=>R,__importStar:()=>D,__makeTemplateObject:()=>I,__metadata:()=>d,__param:()=>c,__propKey:()=>l,__read:()=>b,__rest:()=>u,__runInitializers:()=>f,__setFunctionName:()=>p,__spread:()=>_,__spreadArray:()=>T,__spreadArrays:()=>w,__values:()=>y,default:()=>A});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function u(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,u=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(u=(o<3?i(u):o>3?i(e,n,u):i(e,n))||u);return o>3&&u&&Object.defineProperty(e,n,u),u}function c(t,e){return function(n,r){e(n,r,t)}}function s(t,e,n,r,i,o){function u(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,s="getter"===c?"get":"setter"===c?"set":"value",f=!e&&t?r.static?t:t.prototype:null,l=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p=!1,d=n.length-1;d>=0;d--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(t){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(t||null))};var h=(0,n[d])("accessor"===c?{get:l.get,set:l.set}:l[s],v);if("accessor"===c){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(a=u(h.get))&&(l.get=a),(a=u(h.set))&&(l.set=a),(a=u(h.init))&&i.unshift(a)}else(a=u(h))&&("field"===c?i.unshift(a):l[s]=a)}f&&Object.defineProperty(f,r.name,l),p=!0}function f(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function l(t){return"symbol"==typeof t?t:"".concat(t)}function p(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function v(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))}function m(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function g(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function w(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}function T(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function x(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},u("next"),u("throw"),u("return",(function(t){return function(e){return Promise.resolve(e).then(t,s)}})),r[Symbol.asyncIterator]=function(){return this},r;function u(t,e){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))},e&&(r[t]=e(r[t])))}function a(t,e){try{(n=i[t](e)).value instanceof S?Promise.resolve(n.value.v).then(c,s):f(o[0][2],n)}catch(t){f(o[0][3],t)}var n}function c(t){a("next",t)}function s(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function O(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:S(t[r](e)),done:!1}:i?i(e):e}:i}}function M(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function I(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var P=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function D(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return P(e,t),e}function R(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function j(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function F(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function B(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var E="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function C(t){function e(e){t.error=t.hasError?new E(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function n(){for(;t.stack.length;){var r=t.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(t){return e(t),n()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}const A={__extends:i,__assign:o,__rest:u,__decorate:a,__param:c,__metadata:d,__awaiter:v,__generator:m,__createBinding:h,__exportStar:g,__values:y,__read:b,__spread:_,__spreadArrays:w,__spreadArray:T,__await:S,__asyncGenerator:x,__asyncDelegator:O,__asyncValues:M,__makeTemplateObject:I,__importStar:D,__importDefault:R,__classPrivateFieldGet:k,__classPrivateFieldSet:j,__classPrivateFieldIn:F,__addDisposableResource:B,__disposeResources:C}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n(48);freeaps_autosens=r})();